<h1>MIT License</h1>
<h1># Copyright (c) 2025 JustStudio. <a href="https://juststudio.is-a.dev/" target="_blank" id="rGbS9">https://juststudio.is-a.dev/</a></h1>
<h1># Permission is hereby granted, free of charge, to any person obtaining a copy</h1>
<h1>of this software and associated documentation files (the "Software"), to deal</h1>
<h1>in the Software without restriction, including without limitation the rights</h1>
<h1>to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</h1>
<h1>copies of the Software, and to permit persons to whom the Software is</h1>
<h1>furnished to do so, subject to the following conditions:</h1>
<h1># The above copyright notice and this permission notice shall be included in all</h1>
<h1>copies or substantial portions of the Software.</h1>
<h1># THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</h1>
<h1>IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</h1>
<h1>FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</h1>
<h1>AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</h1>
<h1>LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</h1>
<h1>OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</h1>
<h1>SOFTWARE.</h1>
#!/bin/bash
source $GITHUB_ACTION_PATH/src/modules/errmsg.sh
source $GITHUB_ACTION_PATH/src/modules/color.sh

config=$(cat just.config.json)

redirect_config_=$(echo "$config" | jq -r '.redirect_config')
if ! echo "$config" | jq -e '.redirect_config' > /dev/null; then

 local ERROR_MESSAGE=$(ErrorMessage "redirect/checks.sh" "0117")

 echo -e "::error::$ERROR_MESSAGE" && exit 1
fi

validate_redirect_config() {

 if ! echo "$config" | jq -e '.redirect_config.url' > /dev/null; then

    local ERROR_MESSAGE=$(ErrorMessage "redirect/checks.sh" "0114")

    echo -e "::error::$ERROR_MESSAGE" && exit 1

 fi
}

validate_paths() {

 local paths=$(echo "$config" | jq -c '.redirect_config.paths[]?')

 if [[ -n "$paths" ]]; then

    local countt=0

    for path in $paths; do

        if ! echo "$path" | jq -e '.url' > /dev/null; then

            local ERROR_MESSAGE=$(customErrorMessage "Error" "0115" "Missing &#34;url&#34; in item #$countt in &#34;paths&#34; in &#34;redirect_config&#34; in &#34;module.exports&#34; at &#34;just.config.js&#34; file.")

            echo -e "::error::$_RED$ERROR_MESSAGE$_RESET" && exit 1

        fi


        if ! echo "$path" | jq -e '.path_' > /dev/null; then

            local ERROR_MESSAGE=$(customErrorMessage "Error" "0116" "Missing &#34;path_&#34; in item #$countt in &#34;paths&#34; in &#34;redirect_config&#34; in &#34;module.exports&#34; at &#34;just.config.js&#34; file.")

            echo -e "::error::$_RED$ERROR_MESSAGE$_RESET" && exit 1

        fi


        countt=$((countt + 1))

    done

 fi
}

validate_redirect_config
validate_paths

