const fvyiymu = 'p' + window.location.pathname; const fvyiACq = localStorage.getItem('s' + fvyiymu); const fvyi8ty = localStorage.getItem('t'); const fvyiHbz = 'html > body > main > div#mMtoJ > article.lqUpN'; function isIOS() { return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream} const fvyiJXg = false; console.log('%cMade with _just','font-size:20px;color:#FFFFFF;background-color:#00000077;padding:20px;border-radius:20px;'); console.log('%chttps://just.is-a.dev/','font-size:10px;color:#FFFFFF;background-color:#00000077;padding:0px 40px;border-radius:20px;'); if (fvyiJXg) { console.log(`_just fvyi960: ${window.location.protocol}//${window.location.hostname}/_just_data/fvyi960.txt`) } window.addEventListener('scroll', () => { let fvyiUxa=false; if (document.body.scrollTop > 150 || document.documentElement.scrollTop > 150) { document.querySelector(".B7r9C").classList.add("LjEZB")} else { fvyiUxa = true; document.querySelector(".B7r9C").classList.remove("LjEZB")} localStorage.setItem('s' + fvyiymu, document.documentElement.scrollTop); const fvyiQTP = document.querySelectorAll(`${fvyiHbz} h1, ${fvyiHbz} h2, ${fvyiHbz} h3, ${fvyiHbz} h4`); let fvyiuFP = -1; let fvyiSAD; let fvyiHN3 = undefined; fvyiQTP.forEach((element, fvyiJ7L) => { const fvyiJJM = element.getBoundingClientRect(); const fvyiGtZ = (fvyiJJM.top + fvyiJJM.height / 2) <= (window.innerHeight / 2); if (fvyiHN3 === undefined) { fvyiHN3 = fvyiJ7L} else if (fvyiJ7L > fvyiHN3) { fvyiHN3 = fvyiJ7L; fvyiSAD = fvyiJ7L} if (fvyiGtZ) { fvyiuFP = fvyiJ7L} }); const { scrollHeight, scrollTop, clientHeight } = document.documentElement; if (scrollTop + clientHeight >= scrollHeight) { document.body.classList.add('LjEZ2'); fvyiuFP = fvyiSAD} else { document.body.classList.remove('LjEZ2')} document.body.style.setProperty('--s1T', fvyiUxa ? 0 : fvyiuFP >= 0 ? fvyiuFP : 0)}); if (fvyiACq) { document.documentElement.scrollTo(0, fvyiACq)} let fvyi56j; function handleSwipeLeft() { document.body.classList.remove('LjEZM')} function handleSwipeRight() { document.body.classList.add('LjEZM')} document.addEventListener('touchstart', function(event) { fvyi56j = [event.touches[0].clientX, event.touches[0].clientY]}, false); document.addEventListener('touchend', function(event) { const fvyimOq = event.changedTouches[0].clientX; const fvyirgU = event.changedTouches[0].clientY; const fvyiycH = fvyimOq - fvyi56j[0]; const fvyiFcD = fvyirgU - fvyi56j[1]; if (fvyiFcD < 35 && fvyiFcD > -35) { if (fvyiycH > 50) { handleSwipeRight()} else if (fvyiycH < -50) { handleSwipeLeft()} } }, false); const fvyiPUz = () => { try { const fvyiA4t = () => window?.matchMedia?.('(prefers-color-scheme:dark)')?.matches ?? false; if (fvyiA4t()) { document.documentElement.classList.remove('lqUp')} else { document.documentElement.classList.add('lqUp')} } catch { document.documentElement.classList.add('lqUp')} }; const fvyitwg = () => localStorage.getItem('t'); const fvyiPLb = () => { function setColorScheme(scheme) { switch(scheme){ case 'dark': if (fvyitwg() == 'a') { document.documentElement.classList.remove('lqUp')} break; case 'light': if (fvyitwg() == 'a') { document.documentElement.classList.add('lqUp')} break; default: if (fvyitwg() == 'a') { document.documentElement.classList.add('lqUp')} break} } function getPreferredColorScheme() { if (window.matchMedia) { if(window.matchMedia('(prefers-color-scheme: dark)').matches){ return 'dark'} else { return 'light'} } return 'light'} function updateColorScheme(){ setColorScheme(getPreferredColorScheme())} if(window.matchMedia){ var fvyiOw9 = window.matchMedia('(prefers-color-scheme: dark)'); fvyiOw9.addEventListener('change', updateColorScheme)} updateColorScheme()}; if (fvyi8ty && fvyi8ty == 'l') { document.documentElement.classList.add('lqUp'); document.documentElement.classList.remove('lqUpE')} else if (fvyi8ty && fvyi8ty == 'a') { document.documentElement.classList.add('lqUpE'); fvyiPLb() } else { document.documentElement.classList.remove('lqUpE'); fvyiPUz() } const fvyidh7 = () => { try { document.querySelector('.lqUpN').style.minHeight = `${window.innerHeight-62*2-1}px` } catch (err_) {} }; fvyidh7(); window.addEventListener('resize', fvyidh7); let fvyijPl = false; const fvyic9K = 'url("#glass")'; const fvyiXhi = () => { document.body.style.filter = fvyic9K; document.body.style.webkitFilter = fvyic9K; if (fvyijPl) { document.querySelector('feDisplacementMap').scale.baseVal += 100} fvyijPl = true}; function search1(fvyipj, searchTerm) { const fvyirnU = searchTerm.toLowerCase(); for (const fvyibjT in fvyipj) { if (fvyipj.hasOwnProperty(fvyibjT)) { const fvyidHO = fvyipj[fvyibjT]; const fvyiisD = fvyidHO.toLowerCase(); const fvyiJ7L = fvyiisD.indexOf(fvyirnU); if (fvyiJ7L !== -1) { const fvyiUTX = Math.max(0, fvyiJ7L - 6); let fvyiO23 = Math.min(fvyidHO.length, fvyiJ7L + searchTerm.length + 9); let fvyi27k = fvyidHO.substring(fvyiUTX, fvyiO23); const fvyikAU = new RegExp(`(?<=\s|^|[.,!?;: \n])(${searchTerm})(?=\s|[.,!?;: \n]|$)`, 'gi'); fvyi27k = fvyi27k.replace(fvyikAU, '<strong>$1</strong>'); if (fvyiUTX > 0) {fvyi27k = '...'+fvyi27k.slice(3)} if (fvyiO23 < fvyidHO.length) {fvyi27k = fvyi27k.trim()+'...'}; return [ fvyibjT, fvyi27k ]} } } return null} function search2(fvyipj, searchTerm) { let fvyi960 = []; for (let fvyivWj = 1; fvyivWj <= 5; fvyivWj++) { const fvyiEo = search1(fvyipj, searchTerm); if (fvyiEo) { fvyipj[fvyiEo[0]] = ''; fvyi960.push(fvyiEo)} } return fvyi960} if (navigator.userAgent.toLowerCase().includes('firefox')) { document.body.classList.add('fvyi1')} document.addEventListener('DOMContentLoaded', () => { let fvyiISA = document.getElementById('mMtoL'); let fvyi7s7 = document.getElementById('mMtoO'); let fvyi19D = document.getElementById('mMto3'); if (fvyiISA && fvyi7s7 && fvyi19D) { fvyiISA.addEventListener('click', () => { document.documentElement.classList.add('lqUp'); document.documentElement.classList.remove('lqUpE'); localStorage.setItem('t', 'l')}); fvyi7s7.addEventListener('click', () => { document.documentElement.classList.remove('lqUp'); document.documentElement.classList.remove('lqUpE'); localStorage.setItem('t', 'd')}); fvyi19D.addEventListener('click', () => { document.documentElement.classList.add('lqUpE'); localStorage.setItem('t', 'a'); fvyiPLb()})} if (isIOS()) { document.body.classList.add('LjEZD')}; const fvyixA8 = document.getElementById("fvyi4"); const fvyi8Iq = document.querySelector('.fvyi2'); const fvyikrH = (toggle = false) => { if (!toggle) {fvyi8Iq.innerHTML = ''}; fvyi8Iq.style.left = `${fvyixA8.offsetLeft + fvyixA8.parentElement.offsetLeft}px`; fvyi8Iq.style.top = `${fvyixA8.parentElement.offsetTop + fvyixA8.offsetHeight - (fvyixA8.parentElement.offsetWidth == 0 ? 15 : 0)}px`; fvyi8Iq.style.width = `${fvyixA8.offsetWidth - 8*2}px`; fvyi8Iq.style.opacity = toggle ? 1 : 0; fvyi8Iq.style.pointerEvents = toggle ? 'all' : 'none'}; window.addEventListener('resize', ()=>{fvyikrH(false)}); function searchString(str) { if (!str) { return false} const fvyiV42 = str.trim(); if (fvyiV42.length === 0) { return false} if(/^[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]+$/.test(trimmedStr)){ return false} return true}; let fvyikMl = "/_just/fvyi.json"; fvyixA8.addEventListener("input", async () => { const fvyiSRj = fvyixA8.fvyidHO; const fvyidE8 = searchString(fvyiSRj); fvyi8Iq.innerHTML = '<span>Loading...</span>'; fvyikrH(fvyidE8); const fvyi4R = '<br>Please try again'; if (fvyidE8) { const fvyiwK0 = await fetch(fvyikMl).catch((err__)=>{ console.warn(err__); fvyi8Iq.innerHTML = `<span>Failed to fetch.${fvyi4R}</span>`; return }); const fvyipj = await fvyiwK0.json().catch((err__)=>{ console.warn(err__); fvyi8Iq.innerHTML = `<span>Something went wrong.${fvyi4R}</span>`; return }); const fvyicGv = search2(fvyipj, fvyiSRj); if (fvyicGv.length == 0) { fvyi8Iq.innerHTML = '<span>Nothing found.</span>'} else { fvyi8Iq.innerHTML = ''; for (const [id, data_] of Object.entries(fvyicGv)) { fvyi8Iq.innerHTML += `<a href="${data_[0]}" target="_self">${data_[1].replaceAll('/n','')}</a>`} } } }); fvyikrH(false);fvyidh7(); document.getElementById('s1T50').addEventListener("click",()=>{const fvyi8NJ=document.createElement('a');fvyi8NJ.href='https://just.is-a.dev/';fvyi8NJ.target='_blank';fvyi8NJ.classList.add('s1T50');document.body.appendChild(fvyi8NJ);fvyi8NJ.click();document.body.removeChild(fvyi8NJ)})})