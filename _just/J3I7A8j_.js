const aGgVXxV = 'p' + window.location.pathname; const aGgV55M = localStorage.getItem('s' + aGgVXxV); const aGgV7h9 = localStorage.getItem('t'); const aGgV8rA = 'html > body > main > div#XesE5 > article.WOvQX'; const aGgVUgt=()=>{ return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream} const aGgVsBz = false; console.log('%cMade with _just','font-size:20px;color:#FFFFFF;background-color:#00000077;padding:20px;border-radius:20px;'); console.log('%chttps://just.is-a.dev/','font-size:10px;color:#FFFFFF;background-color:#00000077;padding:0px 40px;border-radius:20px;'); if (aGgVsBz) { console.log(`_just aGgVVXA: ${window.location.protocol}//${window.location.hostname}/_just_data/aGgVVXA.txt`) } window.addEventListener('scroll', () => { let aGgVZvA=false; if (document.body.scrollTop > 150 || document.documentElement.scrollTop > 150) { document.querySelector(".o9d0S").classList.add("mDyiK")} else { aGgVZvA = true; document.querySelector(".o9d0S").classList.remove("mDyiK")} localStorage.setItem('s' + aGgVXxV, document.documentElement.scrollTop); const aGgVEQ = document.querySelectorAll(`${aGgV8rA} h1, ${aGgV8rA} h2, ${aGgV8rA} h3, ${aGgV8rA} h4`); let aGgVfVe = -1; let aGgVIp0; let aGgVjaE = undefined; aGgVEQ.forEach((element, aGgVBz0) => { const aGgVlr6 = element.getBoundingClientRect(); const aGgVR6C = (aGgVlr6.top + aGgVlr6.height / 2) <= (window.innerHeight / 2); if (aGgVjaE === undefined) { aGgVjaE = aGgVBz0} else if (aGgVBz0 > aGgVjaE) { aGgVjaE = aGgVBz0; aGgVIp0 = aGgVBz0} if (aGgVR6C) { aGgVfVe = aGgVBz0} }); const { scrollHeight, scrollTop, clientHeight } = document.documentElement; if (scrollTop + clientHeight >= scrollHeight) { document.body.classList.add('mDyiH'); aGgVfVe = aGgVIp0} else { document.body.classList.remove('mDyiH')} document.body.style.setProperty('--R5x', aGgVZvA ? 0 : aGgVfVe >= 0 ? aGgVfVe : 0)}); if (aGgV55M) { document.documentElement.scrollTo(0, aGgV55M)} let aGgVN5y; const aGgVu3W=()=>{ document.body.classList.remove('mDyiU')} const aGgVt0X=()=>{ document.body.classList.add('mDyiU')} document.addEventListener('touchstart', function(event) { aGgVN5y = [event.touches[0].clientX, event.touches[0].clientY]}, false); document.addEventListener('touchend', function(event) { const aGgVpm2 = event.changedTouches[0].clientX; const aGgVC0H = event.changedTouches[0].clientY; const aGgVtTr = aGgVpm2 - aGgVN5y[0]; const aGgVGrP = aGgVC0H - aGgVN5y[1]; if (aGgVGrP < 35 && aGgVGrP > -35) { if (aGgVtTr > 50) { aGgVt0X()} else if (aGgVtTr < -50) { aGgVu3W()} } }, false); const aGgVTCf = () => { try { const aGgVB0n = () => window?.matchMedia?.('(prefers-color-scheme:dark)')?.matches ?? false; if (aGgVB0n()) { document.documentElement.classList.remove('WOvQ')} else { document.documentElement.classList.add('WOvQ')} } catch { document.documentElement.classList.add('WOvQ')} }; const aGgVRBk = () => localStorage.getItem('t'); const aGgVhlB = () => { const aGgVWAE = (scheme) => { switch(scheme){ case 'dark': if (aGgVRBk() == 'a') { document.documentElement.classList.remove('WOvQ')} break; case 'light': if (aGgVRBk() == 'a') { document.documentElement.classList.add('WOvQ')} break; default: if (aGgVRBk() == 'a') { document.documentElement.classList.add('WOvQ')} break} }; const aGgVzS = () => { if (window.matchMedia) { if(window.matchMedia('(prefers-color-scheme: dark)').matches){ return 'dark'} else { return 'light'} } return 'light'}; const aGgV2cg=()=>{ aGgVWAE(aGgVzS())}; if(window.matchMedia){ var aGgVm7S = window.matchMedia('(prefers-color-scheme: dark)'); aGgVm7S.addEventListener('change', aGgV2cg)}; aGgV2cg()}; if (aGgV7h9 && aGgV7h9 == 'l') { document.documentElement.classList.add('WOvQ'); document.documentElement.classList.remove('WOvQ8')} else if (aGgV7h9 && aGgV7h9 == 'a') { document.documentElement.classList.add('WOvQ8'); aGgVhlB() } else { document.documentElement.classList.remove('WOvQ8'); aGgVTCf() }; const aGgVqU4 = () => { try { document.querySelector('.WOvQX').style.minHeight = `${window.innerHeight-62*2-1}px` } catch (err_) {} }; aGgVqU4(); window.addEventListener('resize', aGgVqU4); let aGgVbrx = false; const aGgVECk = 'url("#glass")'; const aGgVXw4 = () => { document.body.style.filter = aGgVECk; document.body.style.webkitFilter = aGgVECk; if (aGgVbrx) { document.querySelector('feDisplacementMap').scale.baseVal += 100}; aGgVbrx = true}; const aGgV7qI = (aGgVxOy, searchTerm) => { const aGgVMc0 = searchTerm.toLowerCase(); for (const aGgV0I5 in aGgVxOy) { if (aGgVxOy.hasOwnProperty(aGgV0I5)) { const aGgVx5G = aGgVxOy[aGgV0I5]; const aGgV7UW = aGgVx5G.toLowerCase(); const aGgVBz0 = aGgV7UW.indexOf(aGgVMc0); if (aGgVBz0 !== -1) { const aGgVmmf = Math.max(0, aGgVBz0 - 6); let aGgVKo2 = Math.min(aGgVx5G.length, aGgVBz0 + searchTerm.length + 9); let aGgVpU4 = aGgVx5G.substring(aGgVmmf, aGgVKo2); const aGgVzIh = new RegExp(`(?<=\s|^|[.,!?;: \n])(${searchTerm})(?=\s|[.,!?;: \n]|$)`, 'gi'); aGgVpU4 = aGgVpU4.replace(aGgVzIh, '<strong>$1</strong>'); if (aGgVmmf > 0) {aGgVpU4 = '...'+aGgVpU4.slice(3)} if (aGgVKo2 < aGgVx5G.length) {aGgVpU4 = aGgVpU4.trim()+'...'}; return [ aGgV0I5, aGgVpU4 ]} } } return null}; const aGgVWlY = (aGgVxOy, searchTerm) => { let aGgVVXA = []; for (let aGgVPZg = 1; aGgVPZg <= 5; aGgVPZg++) { const aGgVp0y = aGgV7qI(aGgVxOy, searchTerm); if (aGgVp0y) { aGgVxOy[aGgVp0y[0]] = ''; aGgVVXA.push(aGgVp0y)} } return aGgVVXA}; document.addEventListener('DOMContentLoaded', () => { let aGgVXjD = document.getElementById('XesEN'); let aGgVJYc = document.getElementById('XesE9'); let aGgVlpX = document.getElementById('XesEW'); if (aGgVXjD && aGgVJYc && aGgVlpX) { aGgVXjD.addEventListener('click', () => { document.documentElement.classList.add('WOvQ'); document.documentElement.classList.remove('WOvQ8'); localStorage.setItem('t', 'l')}); aGgVJYc.addEventListener('click', () => { document.documentElement.classList.remove('WOvQ'); document.documentElement.classList.remove('WOvQ8'); localStorage.setItem('t', 'd')}); aGgVlpX.addEventListener('click', () => { document.documentElement.classList.add('WOvQ8'); localStorage.setItem('t', 'a'); aGgVhlB()})} if (aGgVUgt()) { document.body.classList.add('mDyiL')}; if (navigator.userAgent.toLowerCase().includes('firefox')) { document.body.classList.add('aGgV1')}; const aGgVV0l = document.getElementById("aGgV4"); const aGgVaba = document.querySelector('.aGgV2'); const aGgVMTn = (toggle = false) => { if (!toggle) {aGgVaba.innerHTML = ''}; aGgVaba.style.left = `${aGgVV0l.offsetLeft + aGgVV0l.parentElement.offsetLeft}px`; aGgVaba.style.top = `${aGgVV0l.parentElement.offsetTop + aGgVV0l.offsetHeight - (aGgVV0l.parentElement.offsetWidth == 0 ? 15 : 0)}px`; aGgVaba.style.width = `${aGgVV0l.offsetWidth - 8*2}px`; aGgVaba.style.opacity = toggle ? 1 : 0; aGgVaba.style.pointerEvents = toggle ? 'all' : 'none'}; window.addEventListener('resize', ()=>{aGgVMTn(false)}); const aGgVZLX = (str) => { if (!str) { return false} const aGgV1S0 = str.trim(); if (aGgV1S0.length === 0) { return false} if(/^[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]+$/.test(trimmedStr)){ return false} return true}; let aGgV50m = "/_just/aGgV.json"; aGgVV0l.addEventListener("input", async () => { const aGgVoH7 = aGgVV0l.value; const aGgVsqV = aGgVZLX(aGgVoH7); aGgVaba.innerHTML = '<span>Loading...</span>'; aGgVMTn(aGgVsqV); const aGgVO9Y = '<br>Please try again'; if (aGgVsqV) { const aGgVlOU = await fetch(aGgV50m).catch((err__)=>{ console.warn(err__); aGgVaba.innerHTML = `<span>Failed to fetch.${aGgVO9Y}</span>`; return }); const aGgVxOy = await aGgVlOU.json().catch((err__)=>{ console.warn(err__); aGgVaba.innerHTML = `<span>Something went wrong.${aGgVO9Y}</span>`; return }); const aGgV7H3 = aGgVWlY(aGgVxOy, aGgVoH7); if (aGgV7H3.length == 0) { aGgVaba.innerHTML = '<span>Nothing found.</span>'} else { aGgVaba.innerHTML = ''; for (const [id, data_] of Object.entries(aGgV7H3)) { aGgVaba.innerHTML += `<a href="${data_[0]}" target="_self">${data_[1].replaceAll('/n','')}</a>`} } } }); aGgVMTn(false);aGgVqU4(); document.getElementById('R5x20').addEventListener("click",()=>{const aGgV1qV=document.createElement('a');aGgV1qV.href='https://just.is-a.dev/';aGgV1qV.target='_blank';aGgV1qV.classList.add('R5x20');document.body.appendChild(aGgV1qV);aGgV1qV.click();document.body.removeChild(aGgV1qV)})})